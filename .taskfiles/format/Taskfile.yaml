---
# yaml-language-server: $schema=https://taskfile.dev/schema.json
version: "3"

tasks:
  format-all:
    - task: format-markdown
    - task: format-yaml
  format-markdown:
    desc: Format Markdown
    cmds:
      - >-
        prettier
        --ignore-path '.github/linters/.prettierignore'
        --config '.github/linters/.prettierrc.yaml'
        --list-different
        --ignore-unknown
        --parser=markdown
        --write '*.md' '**/*.md'
    ignore_error: true
  format-yaml:
    desc: Format YAML
    cmds:
      - >-
        prettier
        --ignore-path '.github/linters/.prettierignore'
        --config
        '.github/linters/.prettierrc.yaml'
        --list-different
        --ignore-unknown
        --parser=yaml
        --write '*.y*ml'
        '**/*.y*ml'
    ignore_error: true

  format-general:
    desc: Lint general formatting
    cmds:
      - prettier --ignore-path '.github/linters/.prettierignore' --config '.github/linters/.prettierrc.yaml' --check .
    ignore_error: true

  lint-all:
    - task: lint-markdown
    - task: lint-yaml

  markdown:
    desc: Lint Markdown
    cmds:
      - markdownlint -c '.github/linters/.markdownlint.yaml' *.md **/*.md
    ignore_error: true

  lint-yaml:
    desc: Lint YAML
    cmds:
      - yamllint -c '.github/linters/.yamllint.yaml' .
    ignore_error: true
